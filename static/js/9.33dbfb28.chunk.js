(this["webpackJsonpreact-picture"]=this["webpackJsonpreact-picture"]||[]).push([[9],{158:function(e,t,r){"use strict";var n=r(2),c=r(16);r(0);function i(){var e=Object(c.a)(["\n  font-size: 40px;\n  font-weight: normal;\n  border-bottom: 1px solid #eee;\n"]);return i=function(){return e},e}var a=r(17).a.div(i());t.a=function(e){var t=e.children;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(a,{children:t})})}},331:function(e,t,r){"use strict";r.r(t);var n=r(2),c=r(0),i=r(166),a=r(16),j=r(72),u=r(74),s=r(328),l=r(151),o=r(149),d=r(330),b=r(321),h=r(17);function O(){var e=Object(a.a)(["\n  font-weight: bold;\n"]);return O=function(){return e},e}function x(){var e=Object(a.a)(["\n  height: 20px;\n"]);return x=function(){return e},e}function g(){var e=Object(a.a)(["\n  margin: 5px 0;\n  border-bottom: 1px solid #ddd;\n"]);return g=function(){return e},e}function f(){var e=Object(a.a)(["\n  max-width: 300px;\n"]);return f=function(){return e},e}function p(){var e=Object(a.a)(["\n  text-align: center;\n  margin-bottom: 20px;\n"]);return p=function(){return e},e}function v(){var e=Object(a.a)(["\n  margin-top: 30px;\n  border: 1px dashed #ccc;\n  padding: 20px;\n"]);return v=function(){return e},e}var m=h.a.div(v()),w=h.a.h1(p()),S=h.a.img(f()),F=h.a.div(g()),U=h.a.div(x()),k=h.a.dt(O()),$=Object(u.a)((function(){var e=Object(c.useRef)(),t=Object(c.useRef)(),r=Object(j.a)().ImageStore,i=Object(b.a)((function(){return{width:null,setWidth:function(e){i.width=e},get widthStr(){return i.width?"/w/".concat(i.width):""},height:null,setHeight:function(e){i.height=e},get heightStr(){return i.height?"/h/".concat(i.height):""},get fullStr(){return r.serverFile.attributes.url.attributes.url+"?imageView2/0"+i.widthStr+i.heightStr}}}));return Object(n.jsx)("div",{children:r.serverFile?Object(n.jsxs)(m,{children:[Object(n.jsx)(w,{children:"\u4e0a\u4f20\u7ed3\u679c"}),Object(n.jsxs)("dl",{children:[Object(n.jsx)(k,{children:"\u7ebf\u4e0a\u5730\u5740"}),Object(n.jsx)(F,{}),Object(n.jsx)("dd",{children:Object(n.jsx)("a",{rel:"noreferrer",target:"_blank",href:r.serverFile.attributes.url.attributes.url,children:r.serverFile.attributes.url.attributes.url})}),Object(n.jsx)(U,{}),Object(n.jsx)(k,{children:"\u6587\u4ef6\u540d"}),Object(n.jsx)(F,{}),Object(n.jsx)("dd",{children:r.filename}),Object(n.jsx)(U,{}),Object(n.jsx)(k,{children:"\u56fe\u7247\u9884\u89c8"}),Object(n.jsx)(F,{}),Object(n.jsx)("dd",{children:Object(n.jsx)(S,{src:r.serverFile.attributes.url.attributes.url,alt:"\u52a0\u8f7d\u5931\u8d25"})}),Object(n.jsx)(U,{}),Object(n.jsx)(k,{children:"\u66f4\u591a\u5c3a\u5bf8"}),Object(n.jsx)(F,{}),Object(n.jsxs)("dd",{children:[Object(n.jsx)("input",{ref:e,onChange:function(){i.setWidth(e.current.value)},placeholder:"\u6700\u5927\u5bbd\u5ea6(\u53ef\u9009)"}),Object(n.jsx)("input",{ref:t,onChange:function(){i.setHeight(t.current.value)},placeholder:"\u6700\u5927\u9ad8\u5ea6(\u53ef\u9009)"})]}),Object(n.jsx)("dd",{children:Object(n.jsx)("a",{target:"_blank",rel:"noreferrer",href:i.fullStr,children:i.fullStr})})]})]}):null})}));function I(){var e=Object(a.a)(["\n  margin-top: 32px;\n"]);return I=function(){return e},e}var N=s.a.Dragger,z=Object(h.a)(N)(I()),C=Object(u.a)((function(){var e=Object(j.a)(),t=e.ImageStore,r=e.UserStore,c={showUploadList:!1,beforeUpload:function(e){return t.setFile(e),t.setFilename(e.name),null===r.currentUser?(l.b.warning("\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20!"),!1):/(svg$)|(png$)|(jpg$)|(jpeg$)|(gif$)/gi.test(e.type)?e.size>1048576?(l.b.error("\u56fe\u7247\u5c3a\u5bf8\u6700\u59271M"),!1):(t.uploader().then((function(e){console.log("\u4e0a\u4f20\u6210\u529f"),console.log(e)})).catch((function(){console.log("\u4e0a\u4f20\u5931\u8d25")})),!1):(l.b.error("\u53ea\u80fd\u4e0a\u4f20png/svg/jpg/gif\u683c\u5f0f\u7684\u56fe\u7247"),!1)}};return Object(n.jsxs)("div",{children:[Object(n.jsx)(o.a,{tip:"\u4e0a\u4f20\u4e2d...",spinning:t.isLoading,children:Object(n.jsxs)(z,Object(i.a)(Object(i.a)({},c),{},{children:[Object(n.jsx)("p",{className:"ant-upload-drag-icon",children:Object(n.jsx)(d.a,{})}),Object(n.jsx)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u6216\u62d6\u62fd\u4e0a\u4f20\u56fe\u7247"}),Object(n.jsx)("p",{className:"ant-upload-hint",children:"\u4ec5\u652f\u6301.png/.svg/.jpg/.jpeg/.gif\u683c\u5f0f\u7684\u56fe\u7247"})]}))}),Object(n.jsx)($,{})]})})),H=r(158);function J(){var e=Object(a.a)(["\n  text-align: center;\n  background: #f90;\n  padding: 10px;\n  margin: 30px 0;\n  color: #fff;\n  border-radius: 4px;\n"]);return J=function(){return e},e}var L=h.a.div(J()),R=Object(u.a)((function(e){var t=e.children,r=Object(j.a)(),c=r.UserStore,i=r.ImageStore;return Object(n.jsx)("div",{children:c.currentUser?i.serverFile?null:Object(n.jsx)(H.a,{children:"\u8bf7\u4e0a\u4f20\u60a8\u7684\u56fe\u7247"}):Object(n.jsx)(L,{children:t})})})),W=Object(u.a)((function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(R,{children:"\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20"}),Object(n.jsx)(C,{})]})}));t.default=W}}]);
//# sourceMappingURL=9.33dbfb28.chunk.js.map